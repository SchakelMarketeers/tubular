// jshint ignore: start
/**!
 * jQuery tubular plugin
 * 
 * @author Sean McCambridge <http://www.seanmccambridge.com/tubular>
 * @author Schakel Marketeers <schakelmarketeers.nl>
 * @license MIT
 * 
 * @see http://www.seanmccambridge.com/tubular
 * @see https://github.com/SchakelMarketeers/tubular
 */
!function(a,b){'use strict';var c={ratio:16/9,videoId:'ZCAnLxRvNNc',mute:!0,repeat:!0,width:a(b).width(),wrapperZIndex:99,playButtonClass:'tubular-play',pauseButtonClass:'tubular-pause',muteButtonClass:'tubular-mute',volumeUpClass:'tubular-volume-up',volumeDownClass:'tubular-volume-down',increaseVolumeBy:10,start:0,end:!1,videoQuality:'hd1080',relatedVideos:0,pageBackground:!0},d=0,e=function(e,f){var g,h=a(e);f=a.extend({},c,f);var i=a('<div id="tubular-container" style="overflow:hidden; position: fixed; z-index: 1; width: 100%; height: 100%"><div id="tubular-player" style="position: absolute"></div></div><div id="tubular-shield" style="width: 100%; height: 100%;z-index: 2; position: absolute; left: 0; top: 0;"></div>');i.insertBefore(h),h.css({position:'relative','z-index':f.wrapperZIndex});var j=function(){var c=0,d=0;f.pageBackground?(c=a(b).width(),d=a(b).height()):(c=h.width(),d=h.height());var e,g,i=a('#tubular-player');c/f.ratio<d?(e=Math.ceil(d*f.ratio),i.width(e).height(d).css({left:(c-e)/2,top:0})):(g=Math.ceil(c/f.ratio),i.width(c).height(g).css({left:0,top:(d-g)/2}))},k=function(a){j(),f.mute&&a.target.mute(),a.target.seekTo(f.start),a.target.playVideo(),d=1},l=function(a){0===a.data&&(f.repeat?(h.trigger('tubular.restart'),g.seekTo(f.start)):h.trigger('tubular.end')),3===a.data&&1===d?d=2:1===a.data&&2===d&&(d=3,h.trigger('tubular.start'))};b.player=b.player||{},b.onYouTubeIframeAPIReady=function(){g=new YT.Player('tubular-player',{width:f.width,height:Math.ceil(f.width/f.ratio),videoId:f.videoId,playerVars:{controls:0,showinfo:0,modestbranding:1,iv_load_policy:3,cc_load_policy:0,wmode:'transparent',vq:f.videoQuality,rel:f.relatedVideos,end:f.end,origin:document.location.host},events:{onReady:k,onStateChange:l}})},a(b).on('resize.tubular',function(){j()}),a('.'+f.playButtonClass).on('click',function(a){a.preventDefault(),g.playVideo()}),a('.'+f.pauseButtonClass).on('click',function(a){a.preventDefault(),g.pauseVideo()}),a('.'+f.muteButtonClass).on('click',function(a){a.preventDefault(),g.isMuted()?g.unMute():g.mute()}),a('.'+f.volumeDownClass).on('click',function(a){a.preventDefault();var b=g.getVolume();b<f.increaseVolumeBy&&(b=f.increaseVolumeBy),g.setVolume(b-f.increaseVolumeBy)}),a('.'+f.volumeUpClass).on('click',function(a){a.preventDefault(),g.isMuted()&&g.unMute();var b=g.getVolume();b>100-f.increaseVolumeBy&&(b=100-f.increaseVolumeBy),g.setVolume(b+f.increaseVolumeBy)})},f=document.createElement('script');f.src='https://www.youtube.com/iframe_api';var g=document.getElementsByTagName('script')[0];g.parentNode.insertBefore(f,g),a.fn.tubular=function(b){return this.each(function(){a.data(this,'tubular_instantiated')||a.data(this,'tubular_instantiated',e(this,b))})}}(jQuery,window);